{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dhava/Downloads/ai-code-reviewer/app/api/docs/route.js"],"sourcesContent":["// import { Groq } from \"groq-sdk\"\n\n// export async function POST(request) {\n//   try {\n//     const { code, language } = await request.json()\n\n//     if (!code || !code.trim()) {\n//       return Response.json({ error: \"Code is required\" }, { status: 400 })\n//     }\n\n//     const apiKey = process.env.GROQ_API_KEY\n//     if (!apiKey) {\n//       console.error(\"[v0] GROQ_API_KEY not found in environment\")\n//       return Response.json({ error: \"API key not configured\" }, { status: 500 })\n//     }\n\n//     const groq = new Groq({ apiKey })\n\n//     const prompt = `You are an expert technical documentation writer. Generate comprehensive professional documentation for the following ${language} code.\n\n// CODE:\n// \\`\\`\\`${language}\n// ${code}\n// \\`\\`\\`\n\n// Generate complete markdown documentation with these sections:\n// - Overview and purpose\n// - Installation/Setup instructions\n// - API Reference (all functions/methods with parameters and return types)\n// - Usage Examples\n// - Best Practices\n// - Error Handling\n// - Performance Considerations\n// - Security Notes (if applicable)\n// - Contributing Guidelines\n// - License\n\n// Make the documentation clear, well-structured, and professional. Include code examples where relevant.`\n\n//     console.log(\"[v0] Sending docs request to Groq API\")\n\n//     const message = await groq.chat.completions.create({\n//       model: \"llama-3.1-70b-versatile\",\n//       max_tokens: 4000,\n//       messages: [\n//         {\n//           role: \"user\",\n//           content: prompt,\n//         },\n//       ],\n//     })\n\n//     console.log(\"[v0] Groq docs response received\")\n\n//     const markdown = message.choices[0]?.message?.content || \"\"\n\n//     if (!markdown) {\n//       console.error(\"[v0] Empty docs response from Groq\")\n//       return Response.json({ error: \"Empty response from AI\" }, { status: 500 })\n//     }\n\n//     return Response.json({ markdown })\n//   } catch (error) {\n//     console.error(\"[v0] Docs API error:\", error.message)\n//     return Response.json({ error: error.message || \"Failed to generate documentation\" }, { status: 500 })\n//   }\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Groq } from \"groq-sdk\"\n\nexport async function POST(request) {\n  try {\n    const { code, language } = await request.json()\n\n    if (!code || !code.trim()) {\n      return Response.json({ error: \"Code is required\" }, { status: 400 })\n    }\n\n    const apiKey = process.env.GROQ_API_KEY\n    if (!apiKey) {\n      console.error(\"[v0] GROQ_API_KEY not found in environment\")\n      return Response.json({ error: \"API key not configured\" }, { status: 500 })\n    }\n\n    const groq = new Groq({ apiKey })\n\n    const prompt = `You are an expert technical documentation writer. Generate comprehensive professional documentation for the following ${language} code.\n\nCODE:\n\\`\\`\\`${language}\n${code}\n\\`\\`\\`\n\nGenerate complete markdown documentation with these sections:\n- Overview and purpose\n- Installation/Setup instructions\n- API Reference (all functions/methods with parameters and return types)\n- Usage Examples\n- Best Practices\n- Error Handling\n- Performance Considerations\n- Security Notes (if applicable)\n- Contributing Guidelines\n- License\n\nMake the documentation clear, well-structured, and professional. Include code examples where relevant.`\n\n    console.log(\"[v0] Sending docs request to Groq API\")\n\n    const message = await groq.chat.completions.create({\n      model: \"llama-3.3-70b-versatile\", // Updated to currently supported model\n      max_tokens: 4000,\n      messages: [\n        {\n          role: \"user\",\n          content: prompt,\n        },\n      ],\n    })\n\n    console.log(\"[v0] Groq docs response received\")\n\n    const markdown = message.choices[0]?.message?.content || \"\"\n\n    if (!markdown) {\n      console.error(\"[v0] Empty docs response from Groq\")\n      return Response.json({ error: \"Empty response from AI\" }, { status: 500 })\n    }\n\n    return Response.json({ markdown })\n  } catch (error) {\n    console.error(\"[v0] Docs API error:\", error.message)\n    return Response.json({ error: error.message || \"Failed to generate documentation\" }, { status: 500 })\n  }\n}"],"names":[],"mappings":"AAAA,kCAAkC;AAElC,wCAAwC;AACxC,UAAU;AACV,sDAAsD;AAEtD,mCAAmC;AACnC,6EAA6E;AAC7E,QAAQ;AAER,8CAA8C;AAC9C,qBAAqB;AACrB,oEAAoE;AACpE,mFAAmF;AACnF,QAAQ;AAER,wCAAwC;AAExC,8JAA8J;AAE9J,QAAQ;AACR,oBAAoB;AACpB,UAAU;AACV,SAAS;AAET,gEAAgE;AAChE,yBAAyB;AACzB,oCAAoC;AACpC,2EAA2E;AAC3E,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,+BAA+B;AAC/B,mCAAmC;AACnC,4BAA4B;AAC5B,YAAY;AAEZ,0GAA0G;AAE1G,2DAA2D;AAE3D,2DAA2D;AAC3D,0CAA0C;AAC1C,0BAA0B;AAC1B,oBAAoB;AACpB,YAAY;AACZ,0BAA0B;AAC1B,6BAA6B;AAC7B,aAAa;AACb,WAAW;AACX,SAAS;AAET,sDAAsD;AAEtD,kEAAkE;AAElE,uBAAuB;AACvB,4DAA4D;AAC5D,mFAAmF;AACnF,QAAQ;AAER,yCAAyC;AACzC,sBAAsB;AACtB,2DAA2D;AAC3D,4GAA4G;AAC5G,MAAM;AACN,IAAI;;;;;AAiCJ;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE7C,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,IAAI;YACzB,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,YAAY;QACvC,IAAI,CAAC,QAAQ;YACX,QAAQ,KAAK,CAAC;YACd,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAyB,GAAG;gBAAE,QAAQ;YAAI;QAC1E;QAEA,MAAM,OAAO,IAAI,sMAAI,CAAC;YAAE;QAAO;QAE/B,MAAM,SAAS,CAAC,sHAAsH,EAAE,SAAS;;;MAG/I,EAAE,SAAS;AACjB,EAAE,KAAK;;;;;;;;;;;;;;;sGAe+F,CAAC;QAEnG,QAAQ,GAAG,CAAC;QAEZ,MAAM,UAAU,MAAM,KAAK,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACjD,OAAO;YACP,YAAY;YACZ,UAAU;gBACR;oBACE,MAAM;oBACN,SAAS;gBACX;aACD;QACH;QAEA,QAAQ,GAAG,CAAC;QAEZ,MAAM,WAAW,QAAQ,OAAO,CAAC,EAAE,EAAE,SAAS,WAAW;QAEzD,IAAI,CAAC,UAAU;YACb,QAAQ,KAAK,CAAC;YACd,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAyB,GAAG;gBAAE,QAAQ;YAAI;QAC1E;QAEA,OAAO,SAAS,IAAI,CAAC;YAAE;QAAS;IAClC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;QACnD,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO,IAAI;QAAmC,GAAG;YAAE,QAAQ;QAAI;IACrG;AACF"}}]
}